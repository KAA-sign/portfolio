


<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>
        Railo on Raspberry Pi
        </title>
    <meta name="description" content="How to install Railo on Raspberry Pi"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/css/bootstrap.min.css" /><link rel="stylesheet" href="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/css/flexslider.css" /><link rel="stylesheet" href="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/css/designr-theme-cyan.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href='http://fonts.googleapis.com/css?family=Lato:400,300,300italic,400italic,700,700italic,900'
          rel='stylesheet' type='text/css'>
    
    <script src="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/js/highlight.pack.js"></script>
    <link rel="stylesheet" href="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/css/code_highlighters/monokai_sublime.css">
    <script>hljs.initHighlightingOnLoad();</script>

    <script type="text/javascript" src="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/js/libs/modernizr.min.js"></script>
</head>

<body class="" data-spy="scroll" data-target="#main-nav" data-offset="200">



    
<div id="main-nav" class="navbar navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#site-nav">
                <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
            </button>
            <a class="navbar-brand scrollto" href="../../index.html" title="Python Developer Glyn Jackson">GLYN JACKSON<br><span>Freelance Developer</span></a>
        </div>
        <div id="site-nav" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="../../index.html#services" title="About my Python and Django services" class="scrollto">About</a>
                </li>
                <li>
                    <a href="../../weblog.html" title="Blog of Glyn Jackson Python Developer">Blog</a>
                </li>
                <li>
                    <a href="https://github.com/glynjackson" target="_blank" title="Python Github Projects" class="scrollto"><i class="fa fa-github"></i> GitHub</a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/glynjackson" target="_blank" title="Linkedin Django Projects"
                       class="scrollto"><i class="fa fa-linkedin-square"></i> LinkedIn</a>
                </li>
                <li>
                    <a href="http://stackoverflow.com/users/1631608/glyn-jackson" target="_blank" title="Stack Python Questions Projects"
                       class="scrollto"><i class="fa fa-stack-overflow"></i> Stack Overflow</a>
                </li>
            </ul>
        </div>
    </div>
</div>




<section id="blog_title">

    <div class="container_blog">

        <div class="row" style="margin-top: 5%">

            <div class="col-sm-6 scrollimation">
                <h1>Railo on Raspberry Pi</h1>

                <p><i class="fa fa-clock-o"></i> June 21, 2013
                    <br/>
                    
                        <i class="fa fa-tag"></i>
                        <a href="../index.html%3Ftag=Raspberry&#32;Pi.html">  Raspberry Pi</a>
                    
                        <i class="fa fa-tag"></i>
                        <a href="../index.html%3Ftag=Coldfusion.html">  Coldfusion</a>
                    
                </p>

            </div>
            <div class="col-sm-4 col-sm-offset-1 scrollimation ">
                

            </div>
        </div>
        <!--End row -->

    </div>
    <!--End container -->

</section>


<section id="post">
    <div class="container_blog">
        <hr>
        
            <div class="bs-callout bs-callout-info">
                <p><strong><i class="fa fa-exclamation-triangle"></i> Please Note:</strong><br/>This post appears to be
                    over 6 months old. </p>
            </div>
        

         <div class="rich-text"><html><head></head><body><p>Why install Railo on the Raspberry Pi? I cannot tell you why, maybe I was just bored, or maybe I just wanted to see if it was possible. However, one thing I have learnt is that Railo can just about run on anything!</p>
  
  <p><img alt="RaspiModelB" class="img-polaroid" src="http://glynjackson.org/static/img/RaspiModelB2.png" style="width: 400px; height: 353px; float: right; margin: 5px;"/></p>
  
  <h3>The Pi</h3>
  
  <p>For those who don’t know about the <a href="http://www.raspberrypi.org/">Raspberry Pi</a>, it’s a small (credit-card sized measuring 85.60mm x 53.98mm x 17mm), inexpensive computer with 512MB of RAM, a 700MHz CPU and a GPU capable of 1080p output over HDMI . Connectivity is provided via 2 USB 2.0 ports, and a RJ45 10/100 Ethernet port. The GPU is capable of BluRay quality playback, using H.264 at 40MBits/s.</p>
  
  <p>The <a href="http://en.wikipedia.org/wiki/Raspberry_Pi_Foundation">Raspberry Foundation</a> is a charity founded in 2009. The premise is to sell an inexpensive small computer that the younger generation can learn to program with. It’s a fantastic idea and with the year-on-year decline in the numbers applying to read Computer Science, Eben Upton and his colleagues at the University of Cambridge’s Computer Laboratory are hoping this device will help carry the next generation of uber geeks.</p>
  
  <p>For myself, and I’m sure fellow nostalgic techheads it’s also a cool way to bring back the memories of the Spectrum ZX and Commodore 64 days. I know there are better, smaller, computers on the market today like Android’s MK802 for example, but it seems the Pi is capturing people imaginations, young and old! I have read about some very interesting projects, peripherals, media centres, mini robots and even a Pi powered space balloon!</p>
  
  <p>So what are my goals? Well, long term I want to create a battery powered NFC reader.  Yep that’s my main goal, however for this blog post and to get my toes wet, I’m writing about how I got Railo Server running on the Pi. I think it’s pretty cool and leads me on to a very interesting conclusion you can read at the end of this post.</p>
  
  <h3>Ordering My Pi</h3>
  
  <p><img alt="RaspiModelB" class="img-polaroid" src="http://glynjackson.org/static/img/RaspiModelB.png" style="width: 400px; height: 353px; float: right; margin: 5px;"/></p>
  
  <p>First let me tell you where and how I got my Pi. I order my Raspberry PI from <a href="http://uk.farnell.com/raspberry-pi">Farnell/Element14</a> for just £30 (it sells for around $35 US Dollars). The device is powered by a standard micro USB port. This ought to be enough current to power a USB mouse and keyboard. However, using networking and high-current USB peripherals such as a WIFI dongle requires a supply which can source 700mA plus. To be on the safe side I decided to order a power supply that can be plugged into the mains (recommended range of 4.75v to 5.25v).</p>
  
  <p>Next, I needed an SD card for the operating system. I found a cheap 8GB class 10 card off eBay for £6, including postage.  I also ordered a micro WI-FI dongle too. The Pi has a standard Ethernet port built in, but using that would be no fun! It had to be Wi-Fi or no FI! Wow, sorry that was bad, I’m ashamed, honest!</p>
  
  <p><img alt="RaspiModelB" class="img-polaroid" src="http://glynjackson.org/static/img/RaspiModelB3.png" style="width: 400px; height: 353px; float: right; margin: 5px;"/></p>
  
  <p>I purchased a clear plastic case for the device on Amazon UK. Not just for the ascetics, the case helps with the durability of the unit. I found the SD card when inserted into the device protrudes. I was concerned this would result in me snapping the unit (I’m like a big handed giant). The case helps with this flimsiness issue and gave it a more robust feel.</p>
  
  <p>The day the Pi arrived on my desk I was lucky enough to receive the new 512MB. The new version had come out just days before I ordered. All future Model B Raspberries will have the upgraded memory at no extra cost.</p>
  
  <h3>Installing the OS</h3>
  
  <p>My first undertaking was to download an OS image to the SD card. There are a wide range of images available for the Pi. I decided to use the Debian based Raspbian “wheezy” distribution from raspberrypi.org/downloads . It has most of the things I needed preconfigured and was designed to work specifically with the Pi. Perfect for a novice like me!</p>
  
  <p>I burnt the image onto the SD from my Mac. It was simple to burn the image to the SD card. I just insert the SD card; open up a terminal session and burnt the downloaded Raspbian image.</p>
  
  <pre class="highlight">df -h</pre>
  
  <p>The command for copying the .img won’t work while the device is mounted, I used the following command first. My card was on disk1…</p>
  
  <pre class="highlight">diskutil unmountDisk /dev/disk1</pre>
  
  <p>Finally, I can copy the .img file to the SD card using the ‘dd‘ command *important r before disk1:</p>
  
  <pre class="highlight">sudo dd bs=1m if=/Users/glyn/Desktop/wheezy-raspbian.img of=/dev/rdisk1
  </pre>
  
  <p>Waiting for the image to copy did take some time to complete, around 3 minutes, but once done I ejected the card and could not wait to start the Pi.</p>
  
  <p>For the sake of transparency I tried to mount the image using Windows 7 too. I found this to be more involved than on the Mac. For a start, I had to download a utility called <a href="https://launchpad.net/win32-image-writer">Win32DiskImager</a> to mount the card and format it correctly. It took a bit of trial and error, issues with partitions etc, but I got there in the end.</p>
  
  <p>When the image was finally written to the card it created three different partitions. A boot partition, a Linux system partition and a swap file partition. They were sized to fit a 2GB SD card and the additional space on the 8GB (around 6GB) was unallocated and at that point meaning it was unusable! I allocated the spare space to use the full capacity of the SD card. This process is not really involved and just requires you to create a new partition and move a few things around. There are lots of instructions on the internet on how to do this so I’m not going to cover it this time.</p>
  
  <h3>Boot up</h3>
  
  <p>Once the OS image was created and the card inserted it was time for its first boot. The default username for the Debian image is <strong>pi</strong> and the password is <strong>raspberry.</strong> You can load the LXDE desktop environment by entering <strong>startx</strong>. However, this is not something I have yet done and my Pi after configuration won’t be using a screen, in fact it won’t be using any input peripherals.</p>
  
  <h3>Prepare for .ssh no screen</h3>
  
  <p>For my projects I would like to plug in power and let it do its thing. I don’t need nor want a screen. SSH is a secure method of logging onto a remote computer, but you already known that right? I often terminal into instances running Linux from a Windows machine using Putty and my Mac using Terminal.  The Pi was not going to be the exception to this rule so next I setup .ssh.</p>
  
  <p>Firstly, I installed the SSH service. This was done by this command:</p>
  
  <pre class="highlight">sudo apt-get install ssh </pre>
  
  <p>easy, right? I then started the daemon (Unix name for a service) with this command from the terminal:</p>
  
  <pre class="highlight">sudo /etc/init.d/ssh start</pre>
  
  <p>This init.d is used to start other daemons. For example if you have Apache, MySQL, Samba etc. You can also stop the service with <strong>stop</strong> or restart it with <strong>restart</strong>.</p>
  
  <p>To set it up so the ssh server starts every time the Pi boots up, I run this command (just once):</p>
  
  <pre class="highlight">sudo update-rc.d ssh defaults</pre>
  
  <p>Just to check if this worked I then restarted the Pi:</p>
  
  <pre class="highlight">sudo reboot –h now</pre>
  
  <p>It’s also worth noticing that the Pi can be restarted by replacing –h with –r… which makes sense.</p>
  
  <p>I've manage to corrupt my SD card a few times now through poweroffs before it had halted. So, a word of warning to anyone experimenting with the Pi, only power down once you have fully shut down your Pi!</p>
  
  <p>One the Pi was on my network I found out its internal IP by typing the following:</p>
  
  <pre class="highlight">/sbin/ifconfig</pre>
  
  <p>This gave me the internal IP address I needed to Putty into the machine. It’s also very easy to give your Pi a static IP if you wanted to access it externally!</p>
  
  <h3>WIFI</h3>
  
  <p>As is the case with Linux in general, wireless can be a bit patchy and the the Raspberry Pi is no exception. It took me awhile to get the Pi configured with the DIGITAZZ Wifi 802.11n WiFi dongle I purchased from eBay. The adaptor uses the Ralink RT 5370 chipset. I found the firmware packages RT2800usb online and installed it.</p>
  
  <p>To see which networks are available, you just type:</p>
  
  <pre class="highlight">iwlist wlan0 scan</pre>
  
  <p>This should give you a list of wireless networks around you. Lastly, I had to configure the adaptor</p>
  
  <pre class="highlight">sudo nano /etc/wpa.conf</pre>
  
  <pre class="highlight">network={
  ssid="YOUR-SSID"
  proto=RSN
  key_mgmt=WPA-PSK
  pairwise=CCMP TKIP
  group=CCMP TKIP
  psk="WPA-PASSWORD"
  }
  
  </pre>
  
  <p>And reference this in /etc/network/interfaces:</p>
  
  <pre class="highlight">$ sudo nano /etc/network/interfaces
  
  # Used by ifup(8) and ifdown(8). See the interfaces(5) manpage or
  # /usr/share/doc/ifupdown/examples for more information.
  auto lo
  iface lo inet loopback
  iface eth0 inet dhcp
  auto wlan0
  iface wlan0 inet dhcp
  wpa-conf /etc/wpa.conf
  </pre>
  
  <p>I restarted the unit as shown above and my binky light on the Wifi adaptor was flashing, that’s the real technical term honest! Ifconfig showed me that I has both sent and received packets on wan0. I disconnected the Ethernet port and one more wire was gone, yippee!</p>
  
  <h3>Installing Railo</h3>
  
  <p>Installing Tomcat 7 was easy, but first I needed to download and install JAVA.</p>
  
  <pre class="highlight">sudo apt-get install sun-java6-jdk
  </pre>
  
  <p>Then Tomcat 7:</p>
  
  <pre class="highlight">wget http://mirror.ox.ac.uk/sites/rsync.apache.org/tomcat/tomcat-7/v7.0.32/bin/apache-tomcat-7.0.32.tar.gz</pre>
  
  <pre class="highlight">tar xzf apache-tomcat-7.0.28.tar.gz
  </pre>
  
  <pre class="highlight">  mv apache-tomcat-7.0.28 tomcat7
  </pre>
  
  <pre class="highlight">Before I started Tomcat, I next added the correct user that has permissions to deploy applications found in tomcat-users.xml:</pre>
  
  <pre class="highlight">&lt;user username="system" password="raspberry" roles="manager-gui"/&gt;</pre>
  
  <p>To finish the Tomcat install I just restarted. If you’re familiar with Tomcat you will already know this is done by running startup.sh script in the tomcat ‘bin’ folder.</p>
  
  <p>It’s a shame it’s possible to use the Railo installer on the Pi. The Railo installer is designed to work with Intel based chipsets (from the best of my knowledge). This meant a manual install.</p>
  
  <p>To install Railo manually, I needed to get the Railo custom version and copy all of the files into the Tomcat lib directory I just created.</p>
  
  <pre class="highlight">wget http://www.getrailo.org/down.cfm?item=/railo/remote/download/3.3.4.003/custom/all/railo-3.3.4.003-jars.tar.gz
  </pre>
  
  <p>I have always found a strange issue with using wget on the Railo download links. For some reason when the file is downloaded is looks like this:</p>
  
  <pre class="highlight">down.cfm?item=%2Frailo%2Fremote%2Fdownload%2F3.3.4.003%2Fcustom%2Fall%2Frailo-3.3.4.003-jars.tar.gz
  
  </pre>
  
  <p>I always rename the file so it makes more sense. Next, I just unzipped the file</p>
  
  <pre class="highlight">tar zxvf railo-3.3.4.003-jars.tar.gz
  
  </pre>
  
  <p>Then move to the tomcat directory:</p>
  
  <pre class="highlight">sudo mv railo-3.3.4.003-jars /* / apache-tomcat-7.0.32 /lib
  </pre>
  
  <p>Open up the web config file.</p>
  
  <pre class="highlight">  sudo nano tomcat7/conf/web.xml
  </pre>
  
  <p>Append the following inside the  element:</p>
  
  <pre class="highlight">&lt;servlet&gt;
  &lt;servlet-name&gt;CFMLServlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;railo.loader.servlet.CFMLServlet&lt;/servlet-class&gt;
     &lt;init-param&gt;
        &lt;param-name&gt;configuration&lt;/param-name&gt;
        &lt;param-value&gt;{web-root-directory}/WEB-INF/railo/&lt;/param-value&gt;
        &lt;description&gt;Configuraton directory&lt;/description&gt;
     &lt;/init-param&gt;
     &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
     &lt;servlet-name&gt;CFMLServlet&lt;/servlet-name&gt;
     &lt;url-pattern&gt;*.cfm&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
  &lt;servlet-mapping&gt;
     &lt;servlet-name&gt;CFMLServlet&lt;/servlet-name&gt;
     &lt;url-pattern&gt;*.cfml&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
  &lt;servlet-mapping&gt;
     &lt;servlet-name&gt;CFMLServlet&lt;/servlet-name&gt;
     &lt;url-pattern&gt;*.cfc&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
  </pre>
  
  <p>Inside the  element insert the following:</p>
  
  <pre class="highlight">index.cfm
  index.cfml
  
  </pre>
  
  <p><img alt="RaspiModelB" class="img-polaroid" src="http://glynjackson.org/static/img/railoscreenonpi.png" style="width: 400px; height: 353px; float: right; margin: 5px;"/></p>
  
  <p>Well that was that! Railo was installed and working! I’m not sure why I was so surprised, Railo is a very versatile engine. It actually works well on the Pi, it takes a little time to load first time, but after it’s around the same speed as JSP file. That’s not a real benchmark, but still you get the idea.  I may have a use for Railo on the Pi with my RFID reader, interesting…</p>
  </body></html></div> 
    </div>
</section>


























<section id="comments">
    <div class="container_blog">

        <div class="row">
            <div class="row">


                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES * * */
                    var disqus_shortname = 'glynjacksondjangoandpython';

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function () {
                        var dsq = document.createElement('script');
                        dsq.type = 'text/javascript';
                        dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>


            </div>

        </div>

    </div>

</section>

<section id="sign-off">
    <div class="container_blog blog_on_blue">


        <div class="row">
            <div class="col-sm-4 col-sm-offset-1">
                <img class="scrollimation img-responsive img-circle img-center rounded"
                     src="https://en.gravatar.com/userimage/39276331/5a5bcef78ab3be209b97726888f2aef6.jpg?size=350"
                     alt="">
            </div>
            <div class="col-sm-6 col-sm-offset-1 scrollimation">
                <h1>That's all Folks!</h1>

                <p>Thanks for reading. Let's keep in Touch:
                    </br> Follow me on <a href="https://github.com/glynjackson" target="_blank">GitHub</a>
                    or Twitter @<a href="https://twitter.com/glynjackson" target="_blank">glynjackson</a>

                </p>
                </br>
                <p>Glyn Jackson is a Python Nerd, consultant and developer.
                </p>
                </br>
                <a href="http://www.glynjackson.org" title="Home of Django Python Developer"
                   class="btn btn-theme transparent scrollto">Find out more</a>
            </div>
        </div>
        <!--End row -->


    </div>
</section>




    <footer id="main-footer">
    <div class="container">

        <div class="row">
            <div class="col-sm-6 left-col">
                <h1 class="small-logo">GLYN JACKSON<br><span>Freelance Python & Django Engineer</span></h1>
                <ul class="footer-nav">
                    <li><a class="scrollto" href="../../index.html#home" title="Manchester Django Developer">Home</a></li>
                    <li><a class="scrollto" href="../../index.html#services" title="Manchester Python Developer">Services</a></li>
                    <li><a class="scrollto" href="../../index.html#portfolio" title="Manchester Developer Portfolio">Portfolio</a></li>
                    <li><a class="scrollto" href="../../index.html#contact" title="Hire Me In Cheshire & Manchester, UK">Hire Me</a>
                    </li>
                    <li><a class="scrollto" href="../../weblog.html" title="Django, Python Blog">Blog</a>
                    </li>
                </ul>
                <p>&copy; Copyright 2016 Webovate Ltd.<br/> Cheshire, Manchester, Freelance Python, Django Developer</p>
            </div>
            <div class="col-sm-6 right-col">
                <h2>Disclaimer</h2>
                <p>If you use any text, please provide a reference back to the original entry.
                    <br/>Opinions expressed here represent my own.</p>
                <a href="https://www.ipse.co.uk/" rel="nofollow" target="_blank"
                   title="PCG Voice of Freelancing Website">
                    <img src="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/assets/ipse.jpg" alt="Membership IPSE Voice of Freelancing Logo">
                </a>
                <a href="https://www.python.org" target="_blank" title="Python Website Link">
                    <img src="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/assets/powered-by.jpg" alt="Django and Python Logo">
                </a>
            </div>

        </div>
    </div>
</footer>

<script type="text/javascript" src="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/js/glynjackson.js"></script>
</body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/js/libs/jquery-1.8.2.min.js">\x3C/script>')</script>

<script src="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/js/libs/bootstrap.min.js"></script>



    <script src="https://s3-eu-west-1.amazonaws.com/glynjacksonorg/js/designr-blog.js"></script>


<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-68013935-1', 'auto');
    ga('send', 'pageview');

</script>

</html>
